<%= form_with scope: :model_association, url: project_model_model_association_path do |form| %>
  <%= form.hidden_field :project_slug, value: params[:project_id] %>
  <%= form.hidden_field :model_slug, value: params[:model_id] %>

  <div class="field">
    <label class="label">Name</label>
    <div class="control">
      <%= form.text_field :name, class: "input", placeholder: "Name", autofocus: true %>
    </div>
  </div>

  <div class="field">
    <label class="label">Kind</label>
    <div class="control">
      <%= form.select :kind, [["Belongs To", "BelongsTo"], ["Has Many", "HasMany"], ["Has One", "HasOne"]], selected: "BelongsTo" %>
    </div>
  </div>

  <div class="field">
    <label class="label">Kind</label>
    <div class="control">
      <%= form.select :associated_model_slug, models.map { |m| [m.name, m.slug] }  %>
    </div>
  </div>

  <div class="field">
    <label class="label">Description</label>
    <div class="control">
      <%= form.text_field :description, class: "input", placeholder: "Description" %>
    </div>
  </div>

  <div class="field is-grouped mt-5">
    <div class="control">
      <%= form.button class: "button is-link is-inverted" %>
    </div>
  </div>
<% end %>
